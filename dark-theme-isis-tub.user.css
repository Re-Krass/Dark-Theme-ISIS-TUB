@-moz-document regexp(".*isis.tu-berlin.de.*") {
	/* ==UserStyle==
@name         ISIS TUB Dark
@description  A dark theme for ISIS TUB.
@namespace    github.com/Re-Krass/Dark-Theme-ISIS-TUB
@author       B4rtware, Re-Krass
@homepageURL  https://github.com/Re-Krass/Dark-Theme-ISIS-TUB
@updateURL    https://raw.githubusercontent.com/Re-Krass/Dark-Theme-ISIS-TUB/master/dark-theme-isis-tub.user.css
@version      0.6.1
==/UserStyle== */
}

@-moz-document regexp(".*isis.tu-berlin.de.*"), regexp(".*shibboleth.tubit.tu-berlin.de.*") {
	:root {
		--main-bg-color: rgb(20, 20, 20);
		--main-navs-color: rgb(45, 45, 45);
		--main-white: rgb(245, 245, 245);
		--main-white-muted: rgb(200, 200, 200);
		--main-red-tu: rgb(255, 60, 78);
	}
}

@-moz-document regexp(".*isis.tu-berlin.de.*") {
	/*** Main Colors etc ***/
	body, body .actions-bg-mask, html {
		background-color: var(--main-bg-color)!important;
		/* bg theme */
	}

	/*** Fonts ***/
	h1, h2, h3, h4, h5, h6 {
		color: var(--main-white)!important;
	}
	.text-muted {
		color: var(--main-white-muted)!important;
	}
	/* a {
    color: rgb(255, 255, 255)!important;
    font-weight: bold;
} */
	.subject {
		color: var(--main-white)!important;
	}
	.author {
		color: var(--main-white)!important;
	}
	.maincontent {
		background-color: var(--main-bg-color)!important;
		color: rgb(238, 238, 238)!important;
	}
	li {
		/* li text elements */
		color: var(--main-white);
	}
	.form-inline .form-control {
		/* search form lower */
		background-color: var(--main-bg-color);
		color: var(--main-white);
	}
}

/* +------------------------------+  */
/* +       top left logo          +  */
/* +------------------------------+  */
/* + ####                         +  */
/* +                              +  */
/* +                              +  */
/* +                              +  */
/* +                              +  */
/* +                              +  */
/* +------------------------------+  */
@-moz-document regexp(".*isis.tu-berlin.de.*") {
	/*** +----------------------+ ***/
	/*** |    Main Login site   | ***/
	/*** +----------------------+ ***/
	/* -> https://isis.tu-berlin.de/login/ */
	.custom-login-header {
		/* header image */
		background-image: url(/theme/image.php/nephthys/theme/1552409344/isis_header_2_night)!important;
	}
	.login-header-logo {
		/* header logo block */
		background-color: var(--main-navs-color);
	}
	#page-login-index .login-annotations {
		/* login annotation text */
		color: var(--main-white);
	}
	#page-login-index #shibbolethbutton {
		/* 'TU-LOGIN' button */
		background-color: rgb(100, 100, 100);
		border: 2px solid rgb(100, 100, 100)!important
	}
	#page-login-index .mt-3 {
		/* Cookies text */
		color: var(--main-white-muted);
	}
	input.btn.btn-primary {
		/* 'Als Gast anmelden' button */
		background-color: rgb(100, 100, 100);
		border: 2px solid rgb(100, 100, 100)!important
	}
	#manual-login-button.btn.btn-tertiary {
		/* 'Login für temporäre ISIS-Konten' */
		color: var(--main-white-muted)!important;
	}
	.logininfo {
		/* login info */
		color: var(--main-white-muted)!important;
	}
	/* FIXME: 
	border color if select button
	red color 
	tu logo invert...
	Maybe fix warning 'Ihre Session ist ungültig. ...'
	*/
}
/* shibboleth.tubit.tu-berlin.de/*/
@-moz-document regexp(".*shibboleth.tubit.tu-berlin.de.*") {
	body {
		/* body main block */
		background-color: var(--main-bg-color)!important;
	}
	body .sidebar {
		/* left sidebar */
		background-color: var(--main-navs-color);
	}
	body .contentContainer div.box-centering {
		/* login block */
		background-color: var(--main-navs-color)!important;
	}
	body .contentContainer div.box-centering h1 {
		/* login box header */
		color: var(--main-white);
	}
	body .contentContainer div.box-centering div.user-input input.form-element.form-field {
		/* input fields */
		background-color: var(--main-bg-color)!important;
		color: var(--main-white-muted)!important;
	}
	body .contentContainer div.box-centering #loginform div.user-input label {
		/* login form title */
		color: var(--main-white)!important;
	}
	/*** FIXME:
	red colors
	anmelde button bg
	***/
}
@-moz-document regexp(".*isis.tu-berlin.de.*") {
	/*** +----------------------+ ***/
	/*** |    left upper logo   | ***/
	/*** +----------------------+ ***/
	.tub-nav .tub-logo {
		/* left upper logo block */
		background-color: var(--main-navs-color)!important;
		/* TU image */
		/*
		background-image: url(/theme/image.php/nephthys/theme/1552409344/tu_logo)!important;
		height: 75px!important;
		cursor: pointer!important;
		background-position: 133px center!important;
		background-repeat: no-repeat!important;
		-webkit-background-size: 74px 55px!important;
		background-size: 74px 55px!important; */
		/* bg theme */
	}
	/* FIXME Suche in Forem bg */

	.tub-nav .return-home {
		/* left upper 'Startseite der TUB' block*/
		background-color: var(--main-bg-color)!important;
		/* bg theme */
	}
}

/* +------------------------------+  */
/* +          top header          +  */
/* +------------------------------+  */
/* +         #####################+  */
/* +                              +  */
/* +                              +  */
/* +                              +  */
/* +                              +  */
/* +                              +  */
/* +------------------------------+  */
/* everything is inside the header-right class which is the top header */
@-moz-document regexp(".*isis.tu-berlin.de.*") {
	/*** +--------------------------------+ ***/
	/*** |    header upper right-middle   | ***/
	/*** +--------------------------------+ ***/
	.header-right {
		/* middle-right upper logo main block */
		background-color: var(--main-navs-color)!important;
		/* bg theme */
	}
	.header-right .nav-right-top {
		/* middle-right upper bar 'language | help | contact | impressum  */
		background-color: var(--main-navs-color)!important;
		/* bg theme */
	}
	/*.header-right a.home { */
	/* ISIS logo 'ISIS INFORMATION SYSTEM FOR INSTRUCTORS AND STUDENTS' FIXME */
	/*	filter: grayscale(100%) invert(100%)!important;
	}*/
	.header-right .usermenu .usertext {
		/* user name */
		color: var(--main-white)!important;
	}

	.user-navbar #nav-notification-popover-container, #nav-message-popover-container {
		/* notification and message logo background */
		background-color: var(--main-navs-color);
	}
	#nav-notification-popover-container:hover, #nav-message-popover-container:hover {
		background-color: transparent;
	}

	/*** +------------------------+ ***/
	/*** |    header dark image   | ***/
	/*** +------------------------+ ***/
	.header.navbar {
		/* upper navbar - normal */
		background-image: url(/theme/image.php/nephthys/theme/1552409344/isis_header_2_night)!important;
	}
	.nephthys-night header.navbar {
		/* upper navbar - dark */
		background-image: url(/theme/image.php/nephthys/theme/1552409344/isis_header_2_night)!important;
	}
	
	/*** +----------------------+ ***/
	/*** |  user dropdown menu  | ***/
	/*** +----------------------+ ***/
	.usermenu .dropdown-menu.dropdown-menu-right.menu.align-tr-br.show .dropdown-item.menu-action {
		/* fix background color for dropbdown item (maybe find out active elemnt and readd bg) */
		background-color: transparent!important;
	}
	.nav-item {
		/* Hilfe, Kontakt... buttons */
		background-color: transparent!important;
		/*border: 1px solid transparent!important;*/
	}
	.dropdown-menu .dropdown-item:hover {
		/* hover over menu item */
		border-left: 5px solid rgb(197, 14, 31)!important;
		margin-left: -5px;
		background-color: transparent!important;
	}
	.dropdown-menu .dropdown-item:active {
		/* FIXME */
		background-color: transparent!important;
	}

	.usermenu .dropdown-menu.dropdown-menu-right.menu.align-tr-br.show {
		/* dropdown menu */
		background-color: var(--main-navs-color);
		box-shadow: 0px 0px 30px 10px var(--main-bg-color);
	}
	.dropdown-menu .dropdown-item.menu-action .menu-action-text {
		/* menu text */
		color: var(--main-white);
	}
	.dropdown-menu .dropdown-item.menu-action .icon {
		/* icons */
		color: var(--main-white);
	}
	/*** +----------------------------------------+ ***/
	/*** |    'Systemnachrichten, Mitteilungen'   | ***/
	/*** +----------------------------------------+ ***/
	/*** +-> popover-region-container ***/
	.popover-region-container .content-item-container {
		/* main dropdwon container */
		background-color: var(--main-bg-color);
		border-bottom: 1px solid var(--main-white-muted);
		margin: 0px;
	}
	.popover-region-container .content-item-container:hover {
		/* hover over dropdown */
		border-right: 4px solid rgb(197, 14, 31);
		border-bottom: 1px solid var(--main-white-muted);
		margin-right: -4px;
	}
	.popover-region-header-container {
		/* TODO: fix messages (i dont have messages) */
		border: none;
	}
	.row.header.clearfix {
		/* 'Nachrichten' header container */
		background-color: var(--main-navs-color)!important;
		border-bottom: 1px solid var(--main-navs-color);
	}
	.popover-region-content-container {
		/* ?????? */
		background-color: var(--main-bg-color);
	}
	.empty-message {
		/* empty message */
		background-color: var(--main-navs-color);
		color: var(--main-white-muted);
	}
	.popover-region-footer-container {
		border: none;
		background-color: var(--main-navs-color);
		color: var(--main-white-muted);
	}
	/*** +--------------------------+ ***/
	/*** |    'Systemnachrichten'   | ***/
	/*** +--------------------------+ ***/
	.notification-message {
		/* message title text */
		color: var(--main-white);
	}
	.content-item-footer .timestamp {
		/* message timestamp dropdown */
		color: var(--main-white-muted)!important;
	}
	.content-item-container.notification a {
		/* hyperlinks */
		color: var(--main-red-tu)!important;
	}
	/*** +------------------------+ ***/
	/*** |    'Mitteilungen'      | ***/
	/*** +------------------------+ ***/
	.popover-region-container .content-item-container .content-item-body p {
		color: var(--main-white-muted)!important;
	}
	/*** +----------------------------------------+ ***/
	/*** |    'Systemnmitteilungen'   | ***/
	/*** +----------------------------------------+ ***/
	.checkbox-container {
		/* disable notifications text */
		color: var(--main-white);
	}
	th, tr, td {
		/* table content */
		background-color: var(--main-bg-color)!important;
	}
}

/* +------------------------------+  */
/* +          left navigation     +  */
/* +------------------------------+  */
/* +                              +  */
/* + #                            +  */
/* + #                            +  */
/* + #                            +  */
/* + #                            +  */
/* + #                            +  */
/* +------------------------------+  */
@-moz-document regexp(".*isis.tu-berlin.de.*") {
	/*** +---------------------------+ ***/
	/*** | left navigation / navbar  | ***/
	/*** +---------------------------+ ***/
	#nav-drawer .list-group .list-group-item {
		/* left navigation text container */
		color: rgb(227, 227, 227)!important;
		border: none!important;
	}
	#nav-drawer .list-group .list-group-item-action.active {
		/* left active selection */
		color: var(--main-bg-color)!important;
		background-color: var(--main-white-muted)!important;
		border: none!important;
	}
	#nav-drawer {
		/* bg theme url-bg*/
	}

	/*** +-----------------+ ***/
	/*** |    search bar   | ***/
	/*** +-----------------+ ***/
	#navsearchbox.form-control {
		/* search bar */
		background-color: var(--main-bg-color);
	}
	#navsearchbox.form-control::placeholder {
		/* search bar placeholder */
		color: var(--main-white-muted);
	}

	/*** +---------------------------+ ***/
	/*** |  arrow for search field   | ***/
	/*** +---------------------------+ ***/
	button.btn.pull-xs-left.m-r-1.btn-secondary {
		/* button */
		background-color: var(--main-white-muted);
		border: none!important;
	}
	.custom-drawer-toggle.nephthys-collapse > button {
		/* fix height and width for button */
		top: 200px;
		height: 35px;
		width: 35px;
		border: none!important;
	}
	.custom-drawer-toggle.nephthys-collapse.nephthys-shrink > button {
		/* lock button to search field */
		top: 0px;
	}
}

/* +------------------------------+  */
/* +          right block         +  */
/* +------------------------------+  */
/* +                              +  */
/* +                             #+  */
/* +                             #+  */
/* +                             #+  */
/* +                             #+  */
/* +                             #+  */
/* +------------------------------+  */
@-moz-document regexp(".*isis.tu-berlin.de.*") {
	/*** +-----------------------------------+ ***/
	/*** |   left lower / right main block   | ***/
	/*** |  'Diese Seite bearbeiten' button  | ***/
	/*** +-----------------------------------+ ***/
	.btn.btn-secondary {
		/* button border */
		border: 2px solid var(--main-navs-color)!important;
	}
	.singlebutton .btn.btn-secondary {
		/* button */
		background-color: var(--main-navs-color);
	}

	/*** +--------------------------+ ***/
	/*** |   'Ankündigungen' block  | ***/
	/*** +--------------------------+ ***/
	.hidden-print {
		/* 'Ankündigungen' main block */
		background-color: var(--main-navs-color)!important;
	}
	#page-mod-forum-discuss .discussioncontrol.displaymode {
		/* button bg 1 */
		background-color: var(--main-navs-color)!important;
	}
	#page-mod-forum-discuss .singleselect {
		/* button bg 2 */
		background-color: var(--main-navs-color)!important;
	}
	#page-mod-forum-discuss .custom-select {
		/* button text */
		color: var(--main-white-muted);
		border: 1px solid var(--main-navs-color);
	}
	.form-control {
		/* buttons */
		background-color: var(--main-navs-color);
	}
	span {
		color: var(--main-white)
	}


	#block-region-side-pre .card-title {
		/* line below title */
		border-bottom: 4px solid var(--main-white-muted);
	}
	[data-region="blocks-column"] {
		/* news text container padding left fixed */
		padding: 0px;
	}
	.row.maincontent.clearfix {
		/* news text padding left fixed (same distance)*/
		padding: 0px 0px;
	}
	 span { /* text in summary */ /* FIXME vlt ändert es zu viel, da es allgemein ist */
		color: var(--main-white)!important;
	}
	.row.maincontent.clearfix .left {
		/* news text padding left fixed (same distance / remove useless container padding) */
		width: 0px!important;
		padding: 0px 15px;
	}
	.link {
		/* 'Antworten' */
		color: var(--main-white-muted);
	}
	.card-title.d-inline:before {
		/* icon FIXME: (doesn't work)*/
		color: var(--main-white);
	}
	#block-site-news {
		/* hide useless white border at the lower bottom */
		border-bottom: none!important;
	}
	/*** 
	TODOs:
	Main Site:
	main site: seite nach rechts / links new color
	footer: Icon InnoCampus 
	Systemnachrichten
	
	Course Site:
	Allgemeines (Logik) border and color
	
	Allgemeine andere Seiten:
	
	Login Site:
	
	***/
}

/* +------------------------------+  */
/* +           footer             +  */
/* +------------------------------+  */
/* +                              +  */
/* +                              +  */
/* +                              +  */
/* +                              +  */
/* +                              +  */
/* +        ################      +  */
/* +------------------------------+  */
@-moz-document regexp(".*isis.tu-berlin.de.*") {
	/*** +--------------------------+ ***/
	/*** |  lower bottom / footer   | ***/
	/*** +--------------------------+ ***/
	#page-footer .logininfo {
		color: var(--main-white-muted);
	}
}

/* +------------------------------+  */
/* +          main block          +  */
/* +------------------------------+  */
/* +                              +  */
/* +      #################       +  */
/* +      #################       +  */
/* +      #################       +  */
/* +      #################       +  */
/* +      #################       +  */
/* +------------------------------+  */
/* |-> #region-main */
@-moz-document regexp(".*isis.tu-berlin.de.*") {
	/*** +----------------------------+ ***/
	/*** |   main site middle-block   | ***/
	/*** +----------------------------+ ***/
	/* captions for weeks and main caption of course */
	h3.sectionname {
		border: none!important;
		background-color: var(--main-navs-color)!important;
	}

	.no-progress {
		/* remove white border from course squares */
		-webkit-box-shadow: none!important;
		-moz-box-shadow: none!important;
		box-shadow: none!important;
	}
	.nav-link {
		/* main navigation 'Zeitliche Übersicht | Kurse ...' */
		color: rgb(255, 255, 255)!important;
		font-weight: bold;
		background-color: transparent;
		/* TODO: Farbe bischen heller machen */
		border: 2px solid transparent!important
	}
	.h5 a {
		/* course names main site */
		color: rgb(255, 255, 255)!important;
		font-weight: bold;
	}

	/*** +--------------------+ ***/
	/*** |    course site     | ***/
	/*** +--------------------+ ***/
	.row .breadcrumb-item {
		/* text 'Meine Kurse' */
		color: var(--main-white-muted);
	}
	.instancename {
		/* resource names */
		color: var(--main-white)!important;
		border-left: 4px solid rgb(255, 34, 34)!important;
	}
	a .instancename {
		/* add padding left from border to text */
		padding-left: 4px!important;
	}
	.row p {
		/* normal font */
		color: var(--main-white);
	}
	.row a {
		/* hyperlink font */
		color: rgb(255, 60, 78);
	}
	.row ul.section .resourcelinkdetails {
		/* annotation resource link details */
		color: var(--main-white-muted);
	}
	.row td {
		/* table font */
		color: var(--main-white);
	}
	.row #toptext {
		/* annotation text */
		color: var(--main-white-muted);
	}
	.info {
		/* info text */
		color: var(--main-white-muted);
	}
	.card-text {
		/* further info notes */
		color: var(--main-white-muted);
	}
	.section.main.clearfix.current .content {
		/* current section (week) */
		background-color: var(--main-bg-color, 100);
	}
	.row .forumpost.unread .row.header, .path-course-view .unread, span.unread {
		/* unred forum pots highlight */
		background-color: rgb(245, 245, 223);
	}
	/*** comments area */
	.comment-area {
		/* comment area block */
		background-color: var(--main-navs-color);
	}
	div.db textarea {
		/* text area block */
		background-color: var(--main-bg-color)!important;
		color: var(--main-white)!important;
	}

	/*** +------------------------------------------------------+ ***/
	/*** |    right / lower middle 'Neue Ankündigungen' block   | ***/
	/*** +------------------------------------------------------+ ***/
	.row .name {
		/* posts author name */
		color: rgb(255, 255, 255)
	}
	.row .date {
		/* date text */
		color: var(--main-white-muted);
	}
	.row .activityhead {
		/* 'Aktivität seit...' */
		color: var(--main-white-muted);
	}
	.row .icon.fa.fa-university.fa-fw {
		/* 'Aktuelle Termine' icon */
		color: var(--main-white-muted);
	}
	/* Bewertungen Ansicht */
	#region-main tr {
		color: var(--main-white-muted);
	}

	/*** +-------------------------+ ***/
	/*** |   'Mitteilungen' site   | ***/
	/*** +-------------------------+ ***/
	.tabimage {
		/* nav block */
		background-color: var(--main-navs-color);
	}
	i.icon.fa.fa-comment.fa-fw {
		/* comment icon */
		color: var(--main-red-tu)!important;
	}
	i.icon.fa.fa-users.fa-fw {
		/* users icon */
		color: var(--main-white-muted)!important;
	}
	.messages-header {
		/* header message block */
		background-color: var(--main-navs-color)!important;
	}
	.messages .blocktime {
		/* message date and time text */
		color: rgb(61, 41, 41)!important;
	}
	.messaging-area-container .message .content.left .timesent {
		/* time send */
		color: rgb(69, 45, 45)!important;
	}
	.messaging-area-container .messages {
		/* messages bg */
		background-image: url(/theme/image.php/nephthys/theme/1552409344/isis_chat_pattern)!important;
		filter: grayscale(100%) invert(100%)!important;
	}
	.messaging-area-container .message .content.left {
		/* message block */
		background-color: rgb(255, 201, 201)!important;
	}
	.messages p {
		/* message text */
		color: var(--main-bg-color)!important;
	}
	div.name {
		/* user names */
		color: var(--main-white)!important;
	}
	.messaging-area-container .messaging-area .contacts-area .contacts .contact.selected .name {
		/* selected user name */
		color: var(--main-red-tu)!important;
	}
	.contacts-area {
		/* left block */
		background-color: var(--main-navs-color);
	}
	.messaging-area-container .messaging-area .contacts-area .searchtextarea {
		/* search bar */
		background-color: var(--main-bg-color);
		margin: 0rem 1rem 1rem 1rem;
	}
	.messaging-area-container .messaging-area .contacts-area .searchtextarea.searching {
		/* search bar clicked FIXME*/
		background-color: var(--main-bg-color)!important;
	}
	p.lastmessage {
		/* last message text */
		color: var(--main-white-muted)!important;
	}
	.messaging-area-container .messaging-area .messages-area .response .message-box .message-text-container textarea {
		/* messagte text not clicked */
		background-color: var(--main-navs-color);
		color: var(--main-white)!important;
		margin: 0rem 0rem 1.25rem 0.5rem;
	}
	.messaging-area-container .messaging-area .messages-area .response.messaging .message-box .message-text-container textarea {
		/* message clicked */
		background-color: var(--main-navs-color);
		color: var(--main-white)!important;
	}
	.btn-primary, .btn-secondary, .btn-default, #shibbolethbutton, .messaging-area-container .messaging-area .messages-area .response .message-box .send-button-container button {
		/* button send */
		background-color: var(--main-navs-color);
		border: 2px solid var(--main-navs-color)!important;
	}
	i.icon.fa.fa-circle-o-notch.fa-spin.fa-fw {
		/* load more icon */
		color: var(--main-white)!important;
	}

	/*** +-------------------------+ ***/
	/*** |   'Erweiterte Suche' site   | ***/
	/*** +-------------------------+ ***/
	.box.searchbox.boxaligncenter {
		color: var(--main-white-muted);
	}
	.form-control {
		background-color: var(--main-navs-color)!important;
		color: var(--main-white)!important;
	}

	/*** 'Allgemeine buttons vor zurück ...' ***/
	li.page-item.disabled {
		background-color: var(--main-bg-color)!important;
		color: var(--main-bg-color)!important;
	}


	/*** +--------------+ ***/
	/*** |  'Kalender'  | ***/
	/*** +--------------+ ***/
	/* block of the whole calendar */
	/*.maincalendar {
    }*/
	/* .calendartable are the tables on the right side */
	.maincalendar th, .calendartable th {
		/* table header */
		background-color: var(--main-white-muted)!important;
		color: var(--main-bg-color);
	}

	.maincalendar td, .calendartable td {
		/* table body */
		background-color: var(--main-navs-color)!important;
	}

	.maincalendar tr, .calendartable tr {
		/* make dark horizontal lines between the calendar tiles */
		border-color: var(--main-bg-color)!important;
	}

	/* FIXME: the calendar tile is scaled if its today */
	.maincalendar td.today {
		/* set calendar color to red if its today */
		background-color: var(--main-red-tu)!important;
	}

	/* FIXME: the dots when text is too large for the day tile are currently not beeing rendered black*/
	.maincalendar td.today div > a {
		/* set calendar date number color to dark */
		color: var(--main-navs-color)!important;
	}

	.maincalendar td.today .icon {
		/* color for the icons inside the today tile */
		color: var(--main-navs-color);
	}
}